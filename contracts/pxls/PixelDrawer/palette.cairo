%lang starknet
from starkware.cairo.common.cairo_builtins import HashBuiltin
from starkware.cairo.common.registers import get_label_location
from starkware.cairo.common.math import assert_le

from pxls.utils.colors import Color

func get_palette_color{syscall_ptr : felt*, range_check_ptr, pedersen_ptr : HashBuiltin*}(
    color_index : felt
) -> (color : Color):
    with_attr error_message("Only 95 colors in this palette"):
        assert_le(color_index, 94)
    end
    let (palette_location) = get_label_location(palette_label)
    let palette = cast(palette_location, Color*)
    return (palette[color_index])

    palette_label:
    dw 183
    dw 28
    dw 28
    dw 211
    dw 47
    dw 47
    dw 244
    dw 67
    dw 54
    dw 229
    dw 115
    dw 115
    dw 255
    dw 205
    dw 210
    dw 136
    dw 14
    dw 79
    dw 194
    dw 24
    dw 91
    dw 233
    dw 30
    dw 99
    dw 240
    dw 98
    dw 146
    dw 248
    dw 187
    dw 208
    dw 74
    dw 20
    dw 140
    dw 123
    dw 31
    dw 162
    dw 156
    dw 39
    dw 176
    dw 186
    dw 104
    dw 200
    dw 225
    dw 190
    dw 231
    dw 49
    dw 27
    dw 146
    dw 81
    dw 45
    dw 168
    dw 103
    dw 58
    dw 183
    dw 149
    dw 117
    dw 205
    dw 209
    dw 196
    dw 233
    dw 26
    dw 35
    dw 126
    dw 48
    dw 63
    dw 159
    dw 63
    dw 81
    dw 181
    dw 121
    dw 134
    dw 203
    dw 197
    dw 202
    dw 233
    dw 13
    dw 71
    dw 161
    dw 25
    dw 118
    dw 210
    dw 33
    dw 150
    dw 243
    dw 100
    dw 181
    dw 246
    dw 187
    dw 222
    dw 251
    dw 1
    dw 87
    dw 155
    dw 2
    dw 136
    dw 209
    dw 3
    dw 169
    dw 244
    dw 79
    dw 195
    dw 247
    dw 179
    dw 229
    dw 252
    dw 0
    dw 96
    dw 100
    dw 0
    dw 151
    dw 167
    dw 0
    dw 188
    dw 212
    dw 77
    dw 208
    dw 225
    dw 178
    dw 235
    dw 242
    dw 0
    dw 77
    dw 64
    dw 0
    dw 121
    dw 107
    dw 0
    dw 150
    dw 136
    dw 77
    dw 182
    dw 172
    dw 178
    dw 223
    dw 219
    dw 25
    dw 77
    dw 51
    dw 56
    dw 142
    dw 60
    dw 76
    dw 175
    dw 80
    dw 129
    dw 199
    dw 132
    dw 200
    dw 230
    dw 201
    dw 51
    dw 105
    dw 30
    dw 104
    dw 159
    dw 56
    dw 139
    dw 195
    dw 74
    dw 174
    dw 213
    dw 129
    dw 220
    dw 237
    dw 200
    dw 130
    dw 119
    dw 23
    dw 175
    dw 180
    dw 43
    dw 205
    dw 220
    dw 57
    dw 220
    dw 231
    dw 117
    dw 240
    dw 244
    dw 195
    dw 245
    dw 127
    dw 23
    dw 251
    dw 192
    dw 45
    dw 255
    dw 235
    dw 59
    dw 255
    dw 241
    dw 118
    dw 255
    dw 249
    dw 196
    dw 255
    dw 111
    dw 0
    dw 255
    dw 160
    dw 0
    dw 255
    dw 193
    dw 7
    dw 255
    dw 213
    dw 79
    dw 255
    dw 236
    dw 179
    dw 230
    dw 81
    dw 0
    dw 245
    dw 124
    dw 0
    dw 255
    dw 152
    dw 0
    dw 255
    dw 183
    dw 77
    dw 255
    dw 224
    dw 178
    dw 191
    dw 54
    dw 12
    dw 230
    dw 74
    dw 25
    dw 255
    dw 87
    dw 34
    dw 255
    dw 138
    dw 101
    dw 255
    dw 204
    dw 188
    dw 62
    dw 39
    dw 35
    dw 93
    dw 64
    dw 55
    dw 121
    dw 85
    dw 72
    dw 161
    dw 136
    dw 127
    dw 215
    dw 204
    dw 200
    dw 38
    dw 50
    dw 56
    dw 69
    dw 90
    dw 100
    dw 96
    dw 125
    dw 139
    dw 144
    dw 164
    dw 174
    dw 207
    dw 216
    dw 220
    dw 0
    dw 0
    dw 0
    dw 82
    dw 82
    dw 82
    dw 150
    dw 150
    dw 150
    dw 242
    dw 242
    dw 242
    dw 255
    dw 255
    dw 255
end
